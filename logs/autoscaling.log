2019-04-05 09:21:42,509 DEBUG: {'sqs_queue_url': 'https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller', 'kubernetes_deployment': 'service-cache-controller', 'kubernetes_namespace': 'service-cache-controller', 'aws_region': 'eu-west-1', 'poll_period': 1, 'scale_down_cool_down': 5, 'scale_up_cool_down': 5, 'scale_up_messages': 20, 'scale_down_messages': 10, 'max_pods': 10, 'min_pods': 1} [in k8s-sqs-autoscaler:67]
2019-04-05 09:21:42,510 ERROR: Failed to fetch token of serviceaccount. Unable to continue [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:29]
2019-04-05 09:22:06,313 DEBUG: {'sqs_queue_url': 'https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller', 'kubernetes_deployment': 'service-cache-controller', 'kubernetes_namespace': 'service-cache-controller', 'aws_region': 'eu-west-1', 'poll_period': 1, 'scale_down_cool_down': 5, 'scale_up_cool_down': 5, 'scale_up_messages': 20, 'scale_down_messages': 10, 'max_pods': 10, 'min_pods': 1} [in k8s-sqs-autoscaler:67]
2019-04-05 09:22:06,347 DEBUG: Starting poll for https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller every 1s [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:134]
2019-04-05 09:22:06,711 INFO: Got 1 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:22:06,713 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:22:07,830 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:22:07,837 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:22:08,907 INFO: Got 1 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:22:08,908 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:22:09,980 INFO: Got 4 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:22:09,981 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:22:11,048 INFO: Got 4 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:22:11,048 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:22:12,116 INFO: Got 1 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:22:12,116 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:22:12,116 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:29:07,823 DEBUG: {'sqs_queue_url': 'https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller', 'kubernetes_deployment': 'service-cache-controller', 'kubernetes_namespace': 'service-cache-controller', 'aws_region': 'eu-west-1', 'poll_period': 1, 'scale_down_cool_down': 5, 'scale_up_cool_down': 5, 'scale_up_messages': 20, 'scale_down_messages': 10, 'max_pods': 10, 'min_pods': 1} [in k8s-sqs-autoscaler:67]
2019-04-05 09:29:07,854 DEBUG: Starting poll for https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller every 1s [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:134]
2019-04-05 09:29:08,210 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:29:08,210 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:29:09,295 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:29:09,301 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:29:10,564 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:29:10,566 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:29:11,683 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:29:11,683 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:29:12,764 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:29:12,766 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:29:13,847 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:29:13,849 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:29:13,850 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:32:15,721 DEBUG: {'sqs_queue_url': 'https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller', 'kubernetes_deployment': 'service-cache-controller', 'kubernetes_namespace': 'service-cache-controller', 'aws_region': 'eu-west-1', 'poll_period': 1, 'scale_down_cool_down': 1, 'scale_up_cool_down': 1, 'scale_up_messages': 20, 'scale_down_messages': 10, 'max_pods': 10, 'min_pods': 1} [in k8s-sqs-autoscaler:67]
2019-04-05 09:32:15,765 DEBUG: Starting poll for https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller every 1s [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:135]
2019-04-05 09:32:16,017 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:32:16,017 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:32:17,081 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:32:17,087 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:32:17,094 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:33:50,511 DEBUG: {'sqs_queue_url': 'https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller', 'kubernetes_deployment': 'service-cache-controller', 'kubernetes_namespace': 'service-cache-controller', 'aws_region': 'eu-west-1', 'poll_period': 1, 'scale_down_cool_down': 1, 'scale_up_cool_down': 1, 'scale_up_messages': 20, 'scale_down_messages': 10, 'max_pods': 10, 'min_pods': 1} [in k8s-sqs-autoscaler:67]
2019-04-05 09:33:50,551 DEBUG: Starting poll for https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller every 1s [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:135]
2019-04-05 09:33:50,889 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:33:50,889 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:33:51,961 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:33:51,961 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:33:51,961 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:33:52,303 DEBUG: {'kind': 'DeploymentConfigList', 'apiVersion': 'v1', 'metadata': {'selfLink': '/oapi/v1/deploymentconfigs/', 'resourceVersion': '68916231'}, 'items': [{'metadata': {'name': 'service-cache-controller', 'namespace': 'service-cache-controller', 'selfLink': '/oapi/v1/namespaces/service-cache-controller/deploymentconfigs/service-cache-controller', 'uid': '3528ffdf-36c0-11e9-bd90-022ebfb5222a', 'resourceVersion': '68310228', 'generation': 86, 'creationTimestamp': '2019-02-22T16:37:56Z'}, 'spec': {'strategy': {'type': 'Rolling', 'rollingParams': {'updatePeriodSeconds': 1, 'intervalSeconds': 1, 'timeoutSeconds': 600, 'maxUnavailable': '25%', 'maxSurge': '25%'}, 'resources': {}, 'activeDeadlineSeconds': 21600}, 'triggers': [], 'replicas': 1, 'test': False, 'selector': {'deploymentconfig': 'service-cache-controller'}, 'template': {'metadata': {'creationTimestamp': None, 'labels': {'deploymentconfig': 'service-cache-controller'}}, 'spec': {'containers': [{'name': 'application', 'image': 'registry.naspersclassifieds.com/olxeu/realestate/microservices/service-cache-controller:production', 'ports': [{'containerPort': 8080, 'protocol': 'TCP'}], 'env': [{'name': 'NEW_RELIC_ENABLED', 'value': 'true'}, {'name': 'NEW_RELIC_APP_NAME', 'value': 'service-cache-controller'}, {'name': 'NEW_RELIC_LICENSE_KEY', 'valueFrom': {'secretKeyRef': {'name': 'newrelic-license-secret', 'key': 'license'}}}, {'name': 'AWS_ACCESS_KEY_ID', 'valueFrom': {'secretKeyRef': {'name': 'service-cache-controller', 'key': 'AWS_ACCESS_KEY_ID'}}}, {'name': 'AWS_SECRET_ACCESS_KEY', 'valueFrom': {'secretKeyRef': {'name': 'service-cache-controller', 'key': 'AWS_SECRET_ACCESS_KEY'}}}, {'name': 'AWS_REGION', 'valueFrom': {'configMapKeyRef': {'name': 'service-cache-controller', 'key': 'AWS_REGION'}}}, {'name': 'ATLAS_SQS_URL', 'value': 'https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller'}, {'name': 'REDISCLUSTER', 'value': 'prd-composer-cache.f14nnt.clustercfg.euw1.cache.amazonaws.com'}, {'name': 'REDISPORTS', 'value': ':6379'}, {'name': 'COMPOSER_URL', 'value': 'http://main.service-adpage-composer.svc'}, {'name': 'LOG_LEVEL', 'value': 'error'}, {'name': 'ENABLE_LOG', 'value': 'false'}, {'name': 'FILL_CACHE', 'value': 'false'}, {'name': 'SITESTAGE', 'value': 'PROD'}], 'resources': {'limits': {'cpu': '300m', 'memory': '250Mi'}}, 'terminationMessagePath': '/dev/termination-log', 'imagePullPolicy': 'Always'}], 'restartPolicy': 'Always', 'terminationGracePeriodSeconds': 30, 'dnsPolicy': 'ClusterFirst', 'securityContext': {}, 'imagePullSecrets': [{'name': 'git-naspersclassifieds-docker-pull'}]}}}, 'status': {'latestVersion': 8, 'observedGeneration': 86, 'replicas': 1, 'updatedReplicas': 1, 'availableReplicas': 1, 'unavailableReplicas': 0, 'details': {'message': 'manual change', 'causes': [{'type': 'Manual'}]}, 'conditions': [{'type': 'Available', 'status': 'True', 'lastUpdateTime': '2019-03-16T15:35:45Z', 'lastTransitionTime': '2019-03-16T15:35:45Z', 'message': 'Deployment config has minimum availability.'}, {'type': 'Progressing', 'status': 'True', 'lastUpdateTime': '2019-04-03T15:09:57Z', 'lastTransitionTime': '2019-04-03T15:09:55Z', 'reason': 'NewReplicationControllerAvailable', 'message': 'replication controller "service-cache-controller-8" successfully rolled out'}], 'readyReplicas': 1}}]} [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:114]
2019-04-05 09:33:52,305 INFO: Min pods reached [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:100]
2019-04-05 09:33:53,376 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:33:53,377 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:33:53,377 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:33:53,710 DEBUG: {'kind': 'DeploymentConfigList', 'apiVersion': 'v1', 'metadata': {'selfLink': '/oapi/v1/deploymentconfigs/', 'resourceVersion': '68916235'}, 'items': [{'metadata': {'name': 'service-cache-controller', 'namespace': 'service-cache-controller', 'selfLink': '/oapi/v1/namespaces/service-cache-controller/deploymentconfigs/service-cache-controller', 'uid': '3528ffdf-36c0-11e9-bd90-022ebfb5222a', 'resourceVersion': '68310228', 'generation': 86, 'creationTimestamp': '2019-02-22T16:37:56Z'}, 'spec': {'strategy': {'type': 'Rolling', 'rollingParams': {'updatePeriodSeconds': 1, 'intervalSeconds': 1, 'timeoutSeconds': 600, 'maxUnavailable': '25%', 'maxSurge': '25%'}, 'resources': {}, 'activeDeadlineSeconds': 21600}, 'triggers': [], 'replicas': 1, 'test': False, 'selector': {'deploymentconfig': 'service-cache-controller'}, 'template': {'metadata': {'creationTimestamp': None, 'labels': {'deploymentconfig': 'service-cache-controller'}}, 'spec': {'containers': [{'name': 'application', 'image': 'registry.naspersclassifieds.com/olxeu/realestate/microservices/service-cache-controller:production', 'ports': [{'containerPort': 8080, 'protocol': 'TCP'}], 'env': [{'name': 'NEW_RELIC_ENABLED', 'value': 'true'}, {'name': 'NEW_RELIC_APP_NAME', 'value': 'service-cache-controller'}, {'name': 'NEW_RELIC_LICENSE_KEY', 'valueFrom': {'secretKeyRef': {'name': 'newrelic-license-secret', 'key': 'license'}}}, {'name': 'AWS_ACCESS_KEY_ID', 'valueFrom': {'secretKeyRef': {'name': 'service-cache-controller', 'key': 'AWS_ACCESS_KEY_ID'}}}, {'name': 'AWS_SECRET_ACCESS_KEY', 'valueFrom': {'secretKeyRef': {'name': 'service-cache-controller', 'key': 'AWS_SECRET_ACCESS_KEY'}}}, {'name': 'AWS_REGION', 'valueFrom': {'configMapKeyRef': {'name': 'service-cache-controller', 'key': 'AWS_REGION'}}}, {'name': 'ATLAS_SQS_URL', 'value': 'https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller'}, {'name': 'REDISCLUSTER', 'value': 'prd-composer-cache.f14nnt.clustercfg.euw1.cache.amazonaws.com'}, {'name': 'REDISPORTS', 'value': ':6379'}, {'name': 'COMPOSER_URL', 'value': 'http://main.service-adpage-composer.svc'}, {'name': 'LOG_LEVEL', 'value': 'error'}, {'name': 'ENABLE_LOG', 'value': 'false'}, {'name': 'FILL_CACHE', 'value': 'false'}, {'name': 'SITESTAGE', 'value': 'PROD'}], 'resources': {'limits': {'cpu': '300m', 'memory': '250Mi'}}, 'terminationMessagePath': '/dev/termination-log', 'imagePullPolicy': 'Always'}], 'restartPolicy': 'Always', 'terminationGracePeriodSeconds': 30, 'dnsPolicy': 'ClusterFirst', 'securityContext': {}, 'imagePullSecrets': [{'name': 'git-naspersclassifieds-docker-pull'}]}}}, 'status': {'latestVersion': 8, 'observedGeneration': 86, 'replicas': 1, 'updatedReplicas': 1, 'availableReplicas': 1, 'unavailableReplicas': 0, 'details': {'message': 'manual change', 'causes': [{'type': 'Manual'}]}, 'conditions': [{'type': 'Available', 'status': 'True', 'lastUpdateTime': '2019-03-16T15:35:45Z', 'lastTransitionTime': '2019-03-16T15:35:45Z', 'message': 'Deployment config has minimum availability.'}, {'type': 'Progressing', 'status': 'True', 'lastUpdateTime': '2019-04-03T15:09:57Z', 'lastTransitionTime': '2019-04-03T15:09:55Z', 'reason': 'NewReplicationControllerAvailable', 'message': 'replication controller "service-cache-controller-8" successfully rolled out'}], 'readyReplicas': 1}}]} [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:114]
2019-04-05 09:33:53,711 INFO: Min pods reached [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:100]
2019-04-05 09:33:54,789 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:33:54,790 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:33:54,790 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:33:55,133 DEBUG: {'kind': 'DeploymentConfigList', 'apiVersion': 'v1', 'metadata': {'selfLink': '/oapi/v1/deploymentconfigs/', 'resourceVersion': '68916238'}, 'items': [{'metadata': {'name': 'service-cache-controller', 'namespace': 'service-cache-controller', 'selfLink': '/oapi/v1/namespaces/service-cache-controller/deploymentconfigs/service-cache-controller', 'uid': '3528ffdf-36c0-11e9-bd90-022ebfb5222a', 'resourceVersion': '68310228', 'generation': 86, 'creationTimestamp': '2019-02-22T16:37:56Z'}, 'spec': {'strategy': {'type': 'Rolling', 'rollingParams': {'updatePeriodSeconds': 1, 'intervalSeconds': 1, 'timeoutSeconds': 600, 'maxUnavailable': '25%', 'maxSurge': '25%'}, 'resources': {}, 'activeDeadlineSeconds': 21600}, 'triggers': [], 'replicas': 1, 'test': False, 'selector': {'deploymentconfig': 'service-cache-controller'}, 'template': {'metadata': {'creationTimestamp': None, 'labels': {'deploymentconfig': 'service-cache-controller'}}, 'spec': {'containers': [{'name': 'application', 'image': 'registry.naspersclassifieds.com/olxeu/realestate/microservices/service-cache-controller:production', 'ports': [{'containerPort': 8080, 'protocol': 'TCP'}], 'env': [{'name': 'NEW_RELIC_ENABLED', 'value': 'true'}, {'name': 'NEW_RELIC_APP_NAME', 'value': 'service-cache-controller'}, {'name': 'NEW_RELIC_LICENSE_KEY', 'valueFrom': {'secretKeyRef': {'name': 'newrelic-license-secret', 'key': 'license'}}}, {'name': 'AWS_ACCESS_KEY_ID', 'valueFrom': {'secretKeyRef': {'name': 'service-cache-controller', 'key': 'AWS_ACCESS_KEY_ID'}}}, {'name': 'AWS_SECRET_ACCESS_KEY', 'valueFrom': {'secretKeyRef': {'name': 'service-cache-controller', 'key': 'AWS_SECRET_ACCESS_KEY'}}}, {'name': 'AWS_REGION', 'valueFrom': {'configMapKeyRef': {'name': 'service-cache-controller', 'key': 'AWS_REGION'}}}, {'name': 'ATLAS_SQS_URL', 'value': 'https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller'}, {'name': 'REDISCLUSTER', 'value': 'prd-composer-cache.f14nnt.clustercfg.euw1.cache.amazonaws.com'}, {'name': 'REDISPORTS', 'value': ':6379'}, {'name': 'COMPOSER_URL', 'value': 'http://main.service-adpage-composer.svc'}, {'name': 'LOG_LEVEL', 'value': 'error'}, {'name': 'ENABLE_LOG', 'value': 'false'}, {'name': 'FILL_CACHE', 'value': 'false'}, {'name': 'SITESTAGE', 'value': 'PROD'}], 'resources': {'limits': {'cpu': '300m', 'memory': '250Mi'}}, 'terminationMessagePath': '/dev/termination-log', 'imagePullPolicy': 'Always'}], 'restartPolicy': 'Always', 'terminationGracePeriodSeconds': 30, 'dnsPolicy': 'ClusterFirst', 'securityContext': {}, 'imagePullSecrets': [{'name': 'git-naspersclassifieds-docker-pull'}]}}}, 'status': {'latestVersion': 8, 'observedGeneration': 86, 'replicas': 1, 'updatedReplicas': 1, 'availableReplicas': 1, 'unavailableReplicas': 0, 'details': {'message': 'manual change', 'causes': [{'type': 'Manual'}]}, 'conditions': [{'type': 'Available', 'status': 'True', 'lastUpdateTime': '2019-03-16T15:35:45Z', 'lastTransitionTime': '2019-03-16T15:35:45Z', 'message': 'Deployment config has minimum availability.'}, {'type': 'Progressing', 'status': 'True', 'lastUpdateTime': '2019-04-03T15:09:57Z', 'lastTransitionTime': '2019-04-03T15:09:55Z', 'reason': 'NewReplicationControllerAvailable', 'message': 'replication controller "service-cache-controller-8" successfully rolled out'}], 'readyReplicas': 1}}]} [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:114]
2019-04-05 09:33:55,134 INFO: Min pods reached [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:100]
2019-04-05 09:34:16,174 DEBUG: {'sqs_queue_url': 'https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller', 'kubernetes_deployment': 'service-cache-controller', 'kubernetes_namespace': 'service-cache-controller', 'aws_region': 'eu-west-1', 'poll_period': 1, 'scale_down_cool_down': 1, 'scale_up_cool_down': 1, 'scale_up_messages': 20, 'scale_down_messages': 10, 'max_pods': 10, 'min_pods': 1} [in k8s-sqs-autoscaler:67]
2019-04-05 09:34:16,213 DEBUG: Starting poll for https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller every 1s [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:134]
2019-04-05 09:34:16,540 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:34:16,540 DEBUG: Waiting for scale down cooldown [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:72]
2019-04-05 09:34:17,603 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:34:17,604 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:34:17,604 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:34:17,979 INFO: Min pods reached [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:100]
2019-04-05 09:34:19,049 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:34:19,050 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:34:19,051 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:34:19,368 INFO: Min pods reached [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:100]
2019-04-05 09:34:20,436 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:34:20,437 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:34:20,437 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:34:20,766 INFO: Min pods reached [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:100]
2019-04-05 09:34:21,834 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:34:21,834 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:34:21,835 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:34:22,208 INFO: Min pods reached [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:100]
2019-04-05 09:34:23,270 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:34:23,271 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:34:23,271 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:34:23,606 INFO: Min pods reached [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:100]
2019-04-05 09:34:24,672 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:34:24,672 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:34:24,672 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:34:25,015 INFO: Min pods reached [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:100]
2019-04-05 09:34:26,079 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:34:26,085 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:34:26,087 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
2019-04-05 09:34:26,404 INFO: Min pods reached [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:100]
2019-04-05 09:34:27,469 INFO: Got 0 messages on queue https://sqs.eu-west-1.amazonaws.com/362379730873/service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:53]
2019-04-05 09:34:27,470 INFO: Scaling down [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:68]
2019-04-05 09:34:27,470 DEBUG: loading deployment: service-cache-controller from namespace: service-cache-controller [in /home/ricardos/projects/k8s-sqs-autoscaler/sqs/sqsopenshift.py:104]
